{"remainingRequest":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/node_modules/babel-loader/lib/index.js!/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/09a_Client+Server/01_Intro/client/src/store/01_marks.js","dependencies":[{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/09a_Client+Server/01_Intro/client/src/store/01_marks.js","mtime":1654070068000},{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/babel.config.js","mtime":1654070068000},{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/node_modules/cache-loader/dist/cjs.js","mtime":1643798947027},{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/node_modules/babel-loader/lib/index.js","mtime":1653470187029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKVnVlLnVzZShWdWV4KTsKdmFyIGJhc2VVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDozMDAwLyI7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc2lkOiAwLAogICAgYXZnOiAwLAogICAgbW9kdWxlTGlzdDogW10KICB9LAogIG11dGF0aW9uczogewogICAgc2V0TWFya3M6IGZ1bmN0aW9uIHNldE1hcmtzKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLnNpZCA9IGRhdGEuc2lkOwogICAgICBzdGF0ZS5tb2R1bGVMaXN0ID0gZGF0YS5tb2R1bGVMaXN0OwogICAgICBzdGF0ZS5hdmcgPSBkYXRhLmF2ZXJhZ2U7CiAgICB9LAogICAgdXBkYXRlTWFyazogZnVuY3Rpb24gdXBkYXRlTWFyayhzdGF0ZSwgb2JqKSB7CiAgICAgIHZhciBpbmRleCA9IHN0YXRlLm1vZHVsZUxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAubWlkID09PSBvYmoubWlkOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coImluZGV4OiAiLmNvbmNhdChpbmRleCwgIiwgbWlkOiAiKS5jb25jYXQob2JqLm1pZCwgIiBtYXJrOiAiKS5jb25jYXQob2JqLm1hcmspKTsKCiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICBjb25zb2xlLmxvZygibWFyayB1cGRhdGVkOiAiLmNvbmNhdChpbmRleCwgIiwgbWlkOiAiKS5jb25jYXQob2JqLm1pZCwgIiBtYXJrOiAiKS5jb25jYXQob2JqLm1hcmspKTsKICAgICAgICBzdGF0ZS5tb2R1bGVMaXN0W2luZGV4XS5tYXJrID0gb2JqLm1hcms7IC8vY29tcHV0ZSBuZXcgYXZlcmFnZQoKICAgICAgICB2YXIgc3VtID0gMCwKICAgICAgICAgICAgY291bnRlciA9IDA7CiAgICAgICAgc3RhdGUubW9kdWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChtb2QpIHsKICAgICAgICAgIHN1bSArPSBwYXJzZUZsb2F0KG1vZC5tYXJrKTsKICAgICAgICAgIGNvdW50ZXIrKzsKICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5hdmcgPSAoc3VtIC8gY291bnRlcikudG9GaXhlZCgyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiV3JvbmcgaW5kZXghIik7CiAgICAgIH0KICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8qKgogICAgICogTG9hZCBtb2R1bGVMaXN0IHdpdGggaXRzIG1hcmtzCiAgICAgKiBAcGFyYW0gY29udGV4dAogICAgICovCiAgICBsb2FkTWFya3M6IGZ1bmN0aW9uIGxvYWRNYXJrcyhjb250ZXh0KSB7CiAgICAgIGZldGNoKGJhc2VVUkwgKyAndjEvbWFya3MvMTAxJywgewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIC8vY29uc29sZS5sb2coZGF0YS5qc29uKCkpCiAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvL3NpZCwgbW9kdWxlTGlzdCwgYXZnCiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMpOwogICAgICAgIC8vbnVyIG1vZHVsZUxpc3QKICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5tb2R1bGVMaXN0KTsKICAgICAgICAvL3NpZCwgbW9kdWxlTGlzdCwgYXZnCiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldE1hcmtzJywgcmVzKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"names":["Vue","Vuex","use","baseURL","Store","state","sid","avg","moduleList","mutations","setMarks","data","average","updateMark","obj","index","findIndex","p","mid","console","log","mark","sum","counter","forEach","mod","parseFloat","toFixed","actions","loadMarks","context","fetch","method","headers","then","json","res","commit","modules"],"sources":["/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/09a_Client+Server/01_Intro/client/src/store/01_marks.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nconst baseURL = \"http://localhost:3000/\";\nexport default new Vuex.Store({\n    state: {\n        sid: 0,\n        avg: 0,\n        moduleList: []\n    },\n    mutations: {\n        setMarks(state, data) {\n            state.sid = data.sid;\n            state.moduleList = data.moduleList;\n            state.avg = data.average;\n        },\n        updateMark(state,obj) {\n            let index = state.moduleList.findIndex(p => p.mid === obj.mid);\n            console.log(`index: ${index}, mid: ${obj.mid} mark: ${obj.mark}`);\n            if (index !== -1) {\n                console.log(`mark updated: ${index}, mid: ${obj.mid} mark: ${obj.mark}`);\n                state.moduleList[index].mark = obj.mark;\n                //compute new average\n                let sum = 0, counter = 0;\n                state.moduleList.forEach(mod => {\n                    sum += parseFloat(mod.mark); counter++;\n                })\n                state.avg = (sum/counter).toFixed(2);\n            } else {\n                console.log(\"Wrong index!\")\n            }\n        }\n    },\n    actions: {\n        /**\n         * Load moduleList with its marks\n         * @param context\n         */\n        loadMarks(context) {\n            fetch(baseURL+'v1/marks/101',\n                {\n                    method: \"GET\",\n                    headers: {'Content-Type': 'application/json'}\n                }).then(data => {\n                    //console.log(data.json())\n                    return data.json()\n                }).then(res => {\n                    //sid, moduleList, avg\n                    //console.log(res);\n                    //nur moduleList\n                    //console.log(res.moduleList);\n                    //sid, moduleList, avg\n                    context.commit('setMarks', res);\n                });\n        }\n    },\n    modules: {}\n})\n"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AAEA,IAAME,OAAO,GAAG,wBAAhB;AACA,eAAe,IAAIF,IAAI,CAACG,KAAT,CAAe;EAC1BC,KAAK,EAAE;IACHC,GAAG,EAAE,CADF;IAEHC,GAAG,EAAE,CAFF;IAGHC,UAAU,EAAE;EAHT,CADmB;EAM1BC,SAAS,EAAE;IACPC,QADO,oBACEL,KADF,EACSM,IADT,EACe;MAClBN,KAAK,CAACC,GAAN,GAAYK,IAAI,CAACL,GAAjB;MACAD,KAAK,CAACG,UAAN,GAAmBG,IAAI,CAACH,UAAxB;MACAH,KAAK,CAACE,GAAN,GAAYI,IAAI,CAACC,OAAjB;IACH,CALM;IAMPC,UANO,sBAMIR,KANJ,EAMUS,GANV,EAMe;MAClB,IAAIC,KAAK,GAAGV,KAAK,CAACG,UAAN,CAAiBQ,SAAjB,CAA2B,UAAAC,CAAC;QAAA,OAAIA,CAAC,CAACC,GAAF,KAAUJ,GAAG,CAACI,GAAlB;MAAA,CAA5B,CAAZ;MACAC,OAAO,CAACC,GAAR,kBAAsBL,KAAtB,oBAAqCD,GAAG,CAACI,GAAzC,oBAAsDJ,GAAG,CAACO,IAA1D;;MACA,IAAIN,KAAK,KAAK,CAAC,CAAf,EAAkB;QACdI,OAAO,CAACC,GAAR,yBAA6BL,KAA7B,oBAA4CD,GAAG,CAACI,GAAhD,oBAA6DJ,GAAG,CAACO,IAAjE;QACAhB,KAAK,CAACG,UAAN,CAAiBO,KAAjB,EAAwBM,IAAxB,GAA+BP,GAAG,CAACO,IAAnC,CAFc,CAGd;;QACA,IAAIC,GAAG,GAAG,CAAV;QAAA,IAAaC,OAAO,GAAG,CAAvB;QACAlB,KAAK,CAACG,UAAN,CAAiBgB,OAAjB,CAAyB,UAAAC,GAAG,EAAI;UAC5BH,GAAG,IAAII,UAAU,CAACD,GAAG,CAACJ,IAAL,CAAjB;UAA6BE,OAAO;QACvC,CAFD;QAGAlB,KAAK,CAACE,GAAN,GAAY,CAACe,GAAG,GAACC,OAAL,EAAcI,OAAd,CAAsB,CAAtB,CAAZ;MACH,CATD,MASO;QACHR,OAAO,CAACC,GAAR,CAAY,cAAZ;MACH;IACJ;EArBM,CANe;EA6B1BQ,OAAO,EAAE;IACL;AACR;AACA;AACA;IACQC,SALK,qBAKKC,OALL,EAKc;MACfC,KAAK,CAAC5B,OAAO,GAAC,cAAT,EACD;QACI6B,MAAM,EAAE,KADZ;QAEIC,OAAO,EAAE;UAAC,gBAAgB;QAAjB;MAFb,CADC,CAAL,CAIOC,IAJP,CAIY,UAAAvB,IAAI,EAAI;QACZ;QACA,OAAOA,IAAI,CAACwB,IAAL,EAAP;MACH,CAPL,EAOOD,IAPP,CAOY,UAAAE,GAAG,EAAI;QACX;QACA;QACA;QACA;QACA;QACAN,OAAO,CAACO,MAAR,CAAe,UAAf,EAA2BD,GAA3B;MACH,CAdL;IAeH;EArBI,CA7BiB;EAoD1BE,OAAO,EAAE;AApDiB,CAAf,CAAf"}]}