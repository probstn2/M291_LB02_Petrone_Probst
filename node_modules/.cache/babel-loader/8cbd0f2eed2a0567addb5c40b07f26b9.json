{"remainingRequest":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/node_modules/babel-loader/lib/index.js!/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/01a_Basics/01_Intro/src/server/server.js","dependencies":[{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/01a_Basics/01_Intro/src/server/server.js","mtime":1656494789807},{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/babel.config.js","mtime":1654070068000},{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/node_modules/cache-loader/dist/cjs.js","mtime":1643798947027},{"path":"/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/node_modules/babel-loader/lib/index.js","mtime":1653470187029}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoKTXVsdGlwdXJwb3NlIFNlcnZlcgogKi8KdmFyIGV4cHJlc3MgPSByZXF1aXJlKCJleHByZXNzIik7Cgp2YXIgYXBwID0gZXhwcmVzcygpOwp2YXIgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMDsKdmFyIHNlcnZlciA9IGFwcC5saXN0ZW4ocG9ydCk7CmNvbnNvbGUubG9nKCJSdW5uaW5nIGF0IFBvcnQgIi5jb25jYXQocG9ydCkpOwpzZXJ2ZXIudGltZW91dCA9IDEwMDAgKiA2MCAqIDI7IC8vIDIgbWludXRlcwovL2h0dHBzOi8vd3d3Lnczc2Nob29scy5jb20vbm9kZWpzL25vZGVqc19maWxlc3lzdGVtLmFzcAoKdmFyIGZzID0gcmVxdWlyZSgnZnMnKTsgLy9odHRwczovL25vZGVqcy5vcmcvYXBpL3BhdGguaHRtbAoKCnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpOyAvL1dhcm5pbmc6IEtvcnJla3Qgc2V0emVuISEKCgp2YXIgc3RhdGljUGF0aCA9ICcuL2RhdGEvJzsgLy9IYW5kbGUgQ09SUyBSZXF1ZXN0cwoKdmFyIGNvcnMgPSByZXF1aXJlKCJjb3JzIik7Cgp2YXIgY29yc09wdGlvbnMgPSB7CiAgb3JpZ2luOiAiaHR0cDovL2xvY2FsaG9zdDo4MDgwIgp9OwphcHAudXNlKGNvcnMoY29yc09wdGlvbnMpKTsKYXBwLnVzZShmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsKICByZXMuaGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpOwogIG5leHQoKTsKfSk7CmFwcC5nZXQoJy90ZXN0JywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7CiAgdmFyIGZpbGVMb2MgPSBwYXRoLnJlc29sdmUoc3RhdGljUGF0aCArICd0ZXN0LnR4dCcpOwogIGZzLnJlYWRGaWxlKGZpbGVMb2MsICd1dGY4JywgZnVuY3Rpb24gKGVyciwgdGV4dCkgewogICAgcmVzLnNlbmQodGV4dCk7CiAgfSk7Cn0pOwphcHAuZ2V0KCcvdjEvcHJvZHVjdHMnLCBmdW5jdGlvbiAocmVxLCByZXMpIHsKICB2YXIgZmlsZUxvYyA9IHBhdGgucmVzb2x2ZShzdGF0aWNQYXRoICsgJ3Byb2R1Y3RzLTEuanNvbicpOwogIGZzLnJlYWRGaWxlKGZpbGVMb2MsICd1dGY4JywgZnVuY3Rpb24gKGVycm9yLCB0ZXh0KSB7CiAgICBpZiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcigiRmVobGVyIHVuZCBoaWVyIGRpZSBGZWhsZXJtZWxkdW5nOiAiLmNvbmNhdChlcnJvcikpOwogICAgICByZXMuc2VuZCgiRWluIEZlaGxlciBpc3QgcGFzc2llcnQhIEJlbmFjaHJpY2h0aWdlbiBTaWUgZGVuIEFkbWluLiIpOwogICAgfSBlbHNlIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zb2xlLmxvZyh0ZXh0KTsKICAgICAgICByZXMuc2VuZCh0ZXh0KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgSlNPTiBpbiBmaWxlJyk7CiAgICAgIH0KICAgIH0KICB9KTsKfSk7"},{"version":3,"names":["express","require","app","port","process","env","PORT","server","listen","console","log","timeout","fs","path","staticPath","cors","corsOptions","origin","use","req","res","next","header","get","fileLoc","resolve","readFile","err","text","send","error","e"],"sources":["/Users/noemiprobst/Desktop/Berufsschule/it_herr_garavaldi/modul291/LB02/M291_Code-main/01a_Basics/01_Intro/src/server/server.js"],"sourcesContent":["/*\nMultipurpose Server\n */\n\nlet express = require(\"express\");\nlet app     = express();\nconst port = process.env.PORT || 3000;\n\nconst server = app.listen(port);\nconsole.log(`Running at Port ${port}`);\nserver.timeout = 1000 * 60 * 2; // 2 minutes\n\n//https://www.w3schools.com/nodejs/nodejs_filesystem.asp\nconst fs = require('fs');\n//https://nodejs.org/api/path.html\nconst path = require('path');\n\n//Warning: Korrekt setzen!!\nconst staticPath = './data/';\n\n\n//Handle CORS Requests\nconst cors = require(\"cors\");\nlet corsOptions = {\n    origin: \"http://localhost:8080\"\n};\napp.use(cors(corsOptions));\n\napp.use(function (req, res, next) {\n    res.header('Content-Type', 'application/json');\n    next();\n});\n\napp.get('/test', (req, res) => {\n    let fileLoc = path.resolve(staticPath+'test.txt');\n    fs.readFile(fileLoc, 'utf8',\n        (err, text) => {\n            res.send(text);\n    });\n});\n\napp.get('/v1/products', (req, res) => {\n    let fileLoc = path.resolve(staticPath+'products-1.json');\n    fs.readFile(fileLoc, 'utf8', (error, text) => {\n        if (error) {\n            console.error(`Fehler und hier die Fehlermeldung: ${error}`);\n            res.send(`Ein Fehler ist passiert! Benachrichtigen Sie den Admin.`);\n        } else {\n            try {\n                console.log(text);\n                res.send(text);\n            } catch (e) {\n                console.error('Invalid JSON in file');\n            }\n        }\n    });\n});\n\n"],"mappings":"AAAA;AACA;AACA;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,GAAG,GAAOF,OAAO,EAArB;AACA,IAAMG,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AAEA,IAAMC,MAAM,GAAGL,GAAG,CAACM,MAAJ,CAAWL,IAAX,CAAf;AACAM,OAAO,CAACC,GAAR,2BAA+BP,IAA/B;AACAI,MAAM,CAACI,OAAP,GAAiB,OAAO,EAAP,GAAY,CAA7B,C,CAAgC;AAEhC;;AACA,IAAMC,EAAE,GAAGX,OAAO,CAAC,IAAD,CAAlB,C,CACA;;;AACA,IAAMY,IAAI,GAAGZ,OAAO,CAAC,MAAD,CAApB,C,CAEA;;;AACA,IAAMa,UAAU,GAAG,SAAnB,C,CAGA;;AACA,IAAMC,IAAI,GAAGd,OAAO,CAAC,MAAD,CAApB;;AACA,IAAIe,WAAW,GAAG;EACdC,MAAM,EAAE;AADM,CAAlB;AAGAf,GAAG,CAACgB,GAAJ,CAAQH,IAAI,CAACC,WAAD,CAAZ;AAEAd,GAAG,CAACgB,GAAJ,CAAQ,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;EAC9BD,GAAG,CAACE,MAAJ,CAAW,cAAX,EAA2B,kBAA3B;EACAD,IAAI;AACP,CAHD;AAKAnB,GAAG,CAACqB,GAAJ,CAAQ,OAAR,EAAiB,UAACJ,GAAD,EAAMC,GAAN,EAAc;EAC3B,IAAII,OAAO,GAAGX,IAAI,CAACY,OAAL,CAAaX,UAAU,GAAC,UAAxB,CAAd;EACAF,EAAE,CAACc,QAAH,CAAYF,OAAZ,EAAqB,MAArB,EACI,UAACG,GAAD,EAAMC,IAAN,EAAe;IACXR,GAAG,CAACS,IAAJ,CAASD,IAAT;EACP,CAHD;AAIH,CAND;AAQA1B,GAAG,CAACqB,GAAJ,CAAQ,cAAR,EAAwB,UAACJ,GAAD,EAAMC,GAAN,EAAc;EAClC,IAAII,OAAO,GAAGX,IAAI,CAACY,OAAL,CAAaX,UAAU,GAAC,iBAAxB,CAAd;EACAF,EAAE,CAACc,QAAH,CAAYF,OAAZ,EAAqB,MAArB,EAA6B,UAACM,KAAD,EAAQF,IAAR,EAAiB;IAC1C,IAAIE,KAAJ,EAAW;MACPrB,OAAO,CAACqB,KAAR,8CAAoDA,KAApD;MACAV,GAAG,CAACS,IAAJ;IACH,CAHD,MAGO;MACH,IAAI;QACApB,OAAO,CAACC,GAAR,CAAYkB,IAAZ;QACAR,GAAG,CAACS,IAAJ,CAASD,IAAT;MACH,CAHD,CAGE,OAAOG,CAAP,EAAU;QACRtB,OAAO,CAACqB,KAAR,CAAc,sBAAd;MACH;IACJ;EACJ,CAZD;AAaH,CAfD"}]}